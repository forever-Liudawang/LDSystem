(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0fb5a83f"],{"050a":function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.info?e("div",{staticClass:"song-container"},[e("div",{staticClass:"w1200"},[e("div",{staticClass:"song-sidebar"},[e("div",{staticClass:"sidebar"},[e("div",{staticClass:"cover"},[e("div",{staticClass:"cover-img",class:[t.isCurSong?"active":""],on:{click:function(i){return i.stopPropagation(),t.plyaing(t.info)}}},[e("img",{staticClass:"cover-stylus",attrs:{src:s("d7c6")}}),e("el-image",{attrs:{src:t.info.album.picUrl}},[e("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e("i",{staticClass:"iconfont icon-placeholder"})])])],1),t.coverDesc?e("div",{staticClass:"cover-desc"},[e("h5",[t._v("专辑简介")]),e("p",[t._v(t._s(t.coverDesc))])]):t._e(),e("div",{staticClass:"simi-song"},[e("h6",[t._v("相似歌曲")]),e("div",{staticClass:"simi-main"},t._l(t.simiSong,(function(i){return e("div",{key:i.id,staticClass:"simi-item"},[e("div",{staticClass:"simi-info"},[e("router-link",{staticClass:"simi-name",attrs:{to:{path:"/song",query:{id:i.id}}}},[t._v(" "+t._s(i.name)+" ")]),e("div",{staticClass:"simi-author"},t._l(i.singer,(function(i,s){return e("router-link",{key:i.name,staticClass:"song-author",attrs:{to:{path:"/singer",query:{id:i.id}}}},[t._v(t._s(0!==s?" / "+i.name:i.name))])})),1)],1),e("div",{staticClass:"simi-song-status"},[i.vip?e("i",{staticClass:"iconfont icon-vip"}):e("i",{class:["iconfont",t.playSimiIcon(i)],on:{click:function(s){return t.plyaing(i)}}})])])})),0)])])])]),e("div",{staticClass:"song-main"},[e("h3",{staticClass:"song-name"},[t._v(" "+t._s(t.info.name)+" "),t.info.mvId?e("router-link",{staticClass:"mv-name",attrs:{to:{path:"/mv",query:{id:t.info.mvId}}}},[e("i",{staticClass:"iconfont icon-video"})]):t._e(),t.info.vip?e("i",{staticClass:"iconfont icon-vip"}):t._e(),t.isCurSong?e("div",{staticClass:"audio-icon"},[e("div",{staticClass:"column",staticStyle:{"animation-delay":"-1.2s"}}),e("div",{staticClass:"column"}),e("div",{staticClass:"column",staticStyle:{"animation-delay":"-1.5s"}}),e("div",{staticClass:"column",staticStyle:{"animation-delay":"-0.9s"}}),e("div",{staticClass:"column",staticStyle:{"animation-delay":"-0.6s"}})]):t._e()],1),e("p",t._l(t.info.singer,(function(i,s){return e("router-link",{key:i.name,staticClass:"song-author",attrs:{to:{path:"/singer",query:{id:i.id}}}},[t._v(t._s(0!==s?" / "+i.name:i.name))])})),1),e("p",{staticClass:"song-info"},[e("span",[t._v("专辑："),e("router-link",{staticClass:"song-album",attrs:{to:{path:"/album",query:{id:t.info.album.id}}}},[t._v(t._s(t.info.album.name))])],1),e("span",[t._v("发行时间："),e("em",[t._v(t._s(t.info.publishTime))])])]),e("div",{staticClass:"song-oper"},[e("span",{class:["play-btn","play-all",t.songDisable],on:{click:function(i){return t.plyaing(t.info)}}},[e("i",{class:["iconfont",t.playFontIcon]}),t._v(" "+t._s(t.info.vip?"VIP尊享":"立即播放"))]),t.isLogin?e("el-popover",{ref:"popAddList",attrs:{placement:"bottom",trigger:"click"}},[e("span",{staticClass:"play-btn play-collect",attrs:{slot:"reference"},slot:"reference"},[e("i",{staticClass:"iconfont icon-collect"}),t._v(" 收藏")]),e("add-list",{attrs:{tracks:t.info.id},on:{closeAddListPop:t.closeAddListPop}})],1):[e("span",{staticClass:"play-btn play-collect",on:{click:t.showAddList}},[e("i",{staticClass:"iconfont icon-collect"}),t._v(" 收藏")])],e("span",{staticClass:"play-btn play-comment",on:{click:t.jumpComment}},[e("i",{staticClass:"iconfont icon-comment"}),t._v(" 评论")])],2),e("div",{staticClass:"song-lyric"},[e("Lyrics",{attrs:{sId:t.sId,local:"page"}})],1),e("div",{ref:"comment",staticClass:"song-comments"},[e("Comments",{attrs:{type:t.type,id:t.sId}})],1)])])]):t._e()},n=[],a=(s("a15b"),s("d81d"),s("b0c0"),s("96cf"),s("1da1")),o=s("5530"),r=s("2f62"),c=s("eb4d"),l=s("44f8"),u=s("09a4"),d=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"addList"},[s("h4",{staticClass:"addListNew",on:{click:t.addListNew}},[s("i",{staticClass:"iconfont icon-add-new",attrs:{title:"新建歌单"}}),t._v("点击新建歌单")]),s("div",{staticClass:"list-mian"},t._l(t.list,(function(i){return s("div",{key:i.id,staticClass:"list-item",on:{click:function(s){return t.addPlayList(i)}}},[s("el-image",{staticClass:"cover-img",attrs:{src:i.coverImgUrl}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])]),s("div",{staticClass:"list-name"},[t._v(t._s(i.name))])],1)})),0)])},f=[],A=(s("4de4"),{name:"addList",components:{},props:["tracks"],data:function(){return{list:[],limit:30,offset:0}},computed:Object(o["a"])({},Object(r["c"])(["userInfo"])),mounted:function(){this.getUserPlayList()},methods:{getUserPlayList:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){var s,e;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$http.playlistUser({uid:t.userInfo.userId,limit:t.limit,offset:t.offset});case 2:if(s=i.sent,e=s.data,200===e.code){i.next=6;break}return i.abrupt("return",t.$msg.error("数据请求失败"));case 6:t.list=e.playlist.filter((function(t){return!t.subscribed}));case 7:case"end":return i.stop()}}),i)})))()},addPlayList:function(t){var i=this;return Object(a["a"])(regeneratorRuntime.mark((function s(){var e,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,i.$http.addPlayList({op:"add",pid:t.id,tracks:i.tracks});case 2:if(e=s.sent,n=e.data,i.$emit("closeAddListPop"),200===n.body.code){s.next=7;break}return s.abrupt("return",i.$msg.error(n.body.message));case 7:i.$msg.success("收藏成功");case 8:case"end":return s.stop()}}),s)})))()},addListNew:function(){this.$emit("closeAddListPop",!0)}}}),m=A,p=(s("82dc"),s("2877")),v=Object(p["a"])(m,d,f,!1,null,"878820f4",null),g=v.exports,h={name:"song-detail",components:{Lyrics:l["a"],Comments:u["a"],addList:g},created:function(){},data:function(){return{info:null,sId:"0",type:0,simiSong:[]}},mounted:function(){this.sId=String(this.$route.query.id),this.init(),window.addEventListener("scroll",this.handleScroll,!0)},computed:Object(o["a"])(Object(o["a"])({},Object(r["c"])(["isLogin","playList","playIndex","isPlayed"])),{},{isCurSong:function(){return this.isPlayed&&this.curSongInfo&&this.curSongInfo.id===this.sId},playFontIcon:function(){return this.isCurSong?"icon-audio-pause":"icon-audio-play"},songDisable:function(){return this.info.license||this.info.vip?"disable":""},coverDesc:function(){return this.info.alia.join(" / ")},playSimiIcon:function(){return function(t){return String(t.id)===this.curSongInfo.id&&this.isPlayed?"icon-audio-pause":"icon-audio-play"}},curSongInfo:function(){return this.playList[this.playIndex]}}),methods:Object(o["a"])(Object(o["a"])({},Object(r["d"])({setLoginDialog:"setLoginDialog",setPlayStatus:"SET_PLAYSTATUS",setPlayList:"SET_PLAYLIST",setPlayIndex:"SET_PLAYINDEX"})),{},{getSongDetail:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){var s,e;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$http.songDetail({ids:t.sId,timestamp:(new Date).valueOf()});case 2:if(s=i.sent,e=s.data,200===e.code){i.next=6;break}return i.abrupt("return",t.$msg.error("数据请求失败"));case 6:e.songs[0].license=!e.privileges[0].cp,t.info=Object(c["a"])(e.songs[0]);case 8:case"end":return i.stop()}}),i)})))()},getSimiSong:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){var s,e;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$http.simiSong({id:t.sId});case 2:if(s=i.sent,e=s.data,200===e.code){i.next=6;break}return i.abrupt("return",t.$msg.error("数据请求失败"));case 6:t.simiSong=e.songs.map((function(i){return{id:String(i.id),name:i.name,mvId:i.mvid,singer:i.artists,album:i.album,alia:i.alias,duration:t.$utils.formatSongTime(i.duration),url:"https://music.163.com/song/media/outer/url?id=".concat(i.id,".mp3"),vip:1===i.fee,license:i.license,publishTime:i.publishTime}}));case 7:case"end":return i.stop()}}),i)})))()},plyaing:function(t){if(this.curSongInfo&&this.curSongInfo.id===t.id)this.setPlayStatus(!this.isPlayed);else{if(t.license)return void this.$msg.error("由于版权保护，您所在的地区暂时无法使用。");if(t.vip)return void this.$msg.error("付费歌曲，请在网易云音乐播放");this.selectPlay({list:[t]})}},closeAddListPop:function(){this.$refs.popAddList.doClose()},jumpComment:function(){this.$refs.comment.scrollIntoView(!0)},init:function(){this.getSongDetail(),this.getSimiSong()},showAddList:function(){if(!this.isLogin)return this.setLoginDialog(!0),!1}},Object(r["b"])(["selectPlay","playAll"])),watch:{$route:{handler:function(){this.sId=this.$route.query.id,this.init()},deep:!0}}},y=h,b=(s("b256"),Object(p["a"])(y,e,n,!1,null,"95625d9c",null));i["default"]=b.exports},"2c20":function(t,i,s){},"82dc":function(t,i,s){"use strict";var e=s("ba97"),n=s.n(e);n.a},b256:function(t,i,s){"use strict";var e=s("2c20"),n=s.n(e);n.a},ba97:function(t,i,s){},d7c6:function(t,i){t.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=chunk-0fb5a83f.feafe758.js.map