(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a52b2d08"],{"16b7":function(t,e,i){},9639:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"my"},[i("div",[i("div",{staticClass:"my-container"},[i("div",{staticClass:"my-aside"},[i("h3",{staticClass:"my-favorite active",on:{click:t.jump}},[t._v("我收藏的歌手 "),i("i",{staticClass:"iconfont icon-arrow"})]),i("h3",{class:[t.slideBox1?"active":""],on:{click:function(e){return t.toggleSlide("1")}}},[i("span",[t._v("创建的歌单 ("+t._s(t.createdList.length)+")")]),t._v(" "),i("i",{staticClass:"iconfont icon-arrow"})]),i("div",{class:["playlist-main",t.slideBox1?"active":""]},t._l(t.createdList,(function(e,s){return i("router-link",{key:e.id,staticClass:"item",class:["item",String(t.id)===String(e.id)?"active":""],attrs:{to:{name:"myPlaylist",query:{id:e.id}}}},[i("el-image",{attrs:{src:e.coverImgUrl}},[i("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[i("i",{staticClass:"iconfont icon-placeholder"})])]),i("div",{staticClass:"info"},[i("div",{staticClass:"name"},[t._v(t._s(e.name))]),i("div",{staticClass:"author"},[t._v(" "+t._s(e.trackCount)+"首 By. "),i("span",[t._v(t._s(e.creator.nickname))]),s?i("i",{staticClass:"iconfont icon-del",on:{click:function(i){return t.delPlayList(e,s,"created")}}}):t._e()])])],1)})),1),i("h3",{class:[t.slideBox2?"active":""],on:{click:function(e){return t.toggleSlide("2")}}},[i("span",[t._v("收藏的歌单 ("+t._s(t.collectList.length)+")")]),t._v(" "),i("i",{staticClass:"iconfont icon-arrow"})]),i("div",{class:["playlist-main",t.slideBox2?"active":""]},t._l(t.collectList,(function(e,s){return i("router-link",{key:e.id,staticClass:"item",class:["item",String(t.id)===String(e.id)?"active":""],attrs:{to:{name:"myPlaylist",query:{id:e.id}}}},[i("el-image",{attrs:{src:e.coverImgUrl}},[i("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[i("i",{staticClass:"iconfont icon-placeholder"})])]),i("div",{staticClass:"info"},[i("div",{staticClass:"name"},[t._v(t._s(e.name))]),i("div",{staticClass:"author"},[t._v(" "+t._s(e.trackCount)+"首 By. "),i("span",[t._v(t._s(e.creator.nickname))]),i("i",{staticClass:"iconfont icon-del",on:{click:function(i){return t.delPlayList(e,s,"collect")}}})])])],1)})),1)]),i("div",{staticClass:"my-main"},[i("router-view")],1)])])])},a=[],r=i("1da1"),n=i("5530"),c=(i("4de4"),i("d3b7"),i("a434"),i("96cf"),i("2f62")),o={components:{},created:function(){this.$route.path.indexOf("/my")>=0&&!this.isLogin&&this.$router.push({path:"/"})},data:function(){return{createdList:[],collectList:[],slideBox1:!1,slideBox2:!1,id:this.$route.query.id}},computed:Object(n["a"])({},Object(c["c"])(["isLogin","userInfo"])),mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.isLogin&&t.getUserPlayList();case 1:case"end":return e.stop()}}),e)})))()},methods:{getUserPlayList:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.playlistUser({uid:t.userInfo.userId,limit:"",offset:""});case 2:if(i=e.sent,s=i.data,200===s.code){e.next=6;break}return e.abrupt("return",t.$msg.error("数据请求失败"));case 6:t.createdList=s.playlist.filter((function(t){return!t.subscribed})),t.collectList=s.playlist.filter((function(t){return t.subscribed})),t.id||"/my/favorite"===t.$route.path||(t.id=t.createdList[0].id,t.$router.push({path:"my/playlist",query:{id:t.id}}));case 9:case"end":return e.stop()}}),e)})))()},toggleSlide:function(t){this["slideBox"+t]=!this["slideBox"+t]},delPlayList:function(t,e,i){var s=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,s.$http.subPlayList({id:t.id,t:t.subscribed?2:1});case 2:if(r=a.sent,n=r.data,200===n.code){a.next=6;break}return a.abrupt("return",s.$msg.error("数据请求失败"));case 6:s[i+"List"].splice(e,1),s.id=s.createdList[0].id,s.$router.push({path:"/my/playlist",query:{id:s.createdList[0].id}});case 9:case"end":return a.stop()}}),a)})))()},jump:function(){this.$router.push({path:"/my/favorite"})}},watch:{$route:function(){this.id=this.$route.query.id,this.id||"/my/favorite"===this.$route.path||(this.id=this.createdList[0].id,this.$router.push({path:"my/playlist",query:{id:this.id}}))}}},l=o,u=(i("efbe"),i("2877")),d=Object(u["a"])(l,s,a,!1,null,"dc4be602",null);e["default"]=d.exports},efbe:function(t,e,i){"use strict";i("16b7")}}]);
//# sourceMappingURL=chunk-a52b2d08.6c83634d.js.map