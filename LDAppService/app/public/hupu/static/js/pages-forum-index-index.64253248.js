(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-forum-index-index"],{"0718":function(t,e,n){"use strict";n.r(e);var i=n("fca0"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"153b":function(t,e,n){"use strict";n("d81d"),Object.defineProperty(e,"__esModule",{value:!0}),e.getName=e.getSongUrl=e.cateList=e.forumCate=void 0;var i=[{id:1,cateId:1,value:"校园",label:"校园"},{id:2,cateId:2,value:"职场",label:"职场"},{id:3,cateId:3,value:"篮球",label:"篮球"},{id:4,cateId:4,value:"情感",label:"情感"},{id:5,cateId:5,value:"生活",label:"生活"}];e.forumCate=i;var a=[{value:"1",label:"校园"},{value:"2",label:"职场"},{value:"3",label:"篮球"},{value:"4",label:"情感"},{value:"5",label:"生活"}];e.cateList=a;var o=function(t){return"https://music.163.com/song/media/outer/url?id=".concat(t,".mp3")};e.getSongUrl=o;var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e="";return t.map((function(t,n){return e+=0===n?t.name:"/"+t.name,t})),e};e.getName=r},"18b6":function(t,e,n){"use strict";var i=n("694b"),a=n.n(i);a.a},"1f88":function(t,e,n){"use strict";var i,a;n("99af"),n("4160"),n("e25e"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={show:function(t,e){var n=this,o=t.list,r=t.cancelText;console.log(789789879),o||(o=[{img:"/static/h5/static/sharemenu/wechatfriend.png",text:"图标文字"}]);var s=plus.screen.resolutionWidth,c=20,u=60,l=5,d=12,f=c/360*s,p=(s-2*f-4*u)/3;p<=5&&(c=15,u=40,f=c/360*s,p=(s-2*f-4*u)/3);var g=f+u+p,h=f+2*(u+p),v=f+3*(u+p),m=f,I=m+u+l+d+f,b={top1:m,top2:I},w={left1:f,left2:g,left3:h,left4:v};i=new plus.nativeObj.View("nvMask",{top:"0px",left:"0px",height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0.2)"}),i.addEventListener("click",(function(){i.hide(),a.hide()})),a=new plus.nativeObj.View("nvImageMenu",{bottom:"0px",left:"0px",height:(u+d+2*c)*Math.ceil(o.length/4)+44+"px",width:"100%",backgroundColor:"rgb(255,255,255)"});var x=[];o.forEach((function(t,e){x.push({tag:"img",src:t.img,position:{top:b["top"+(parseInt(e/4)+1)],left:w["left"+(1+e%4)],width:u,height:u}}),x.push({tag:"font",text:t.text,textStyles:{size:d},position:{top:b["top"+(parseInt(e/4)+1)]+u+l,left:w["left"+(1+e%4)],width:u,height:d}})})),a.draw([{tag:"rect",color:"#e7e7e7",position:{top:"0px",height:"1px"}},{tag:"font",text:r,textStyles:{size:"14px"},position:{bottom:"0px",height:"44px"}},{tag:"rect",color:"#e7e7e7",position:{bottom:"45px",height:"1px"}}].concat(x)),i.show(),a.show(),a.addEventListener("click",(function(t){if(t.screenY>plus.screen.resolutionHeight-44)i.hide(),a.hide();else if(t.clientX<5||t.clientX>s-5||t.clientY<5);else{var o=-1,r=t.clientY<I-f/2?0:1,c=-1;c=t.clientX<g-p/2?0:t.clientX<h-p/2?1:t.clientX<v-p/2?2:3,o=0==r?c:c+4,e(o),n.hide()}}))},hide:function(){i.hide(),a.hide()}};e.default=o},"25a3":function(t,e,n){"use strict";var i=n("4ea4");n("4de4"),n("4160"),n("caad"),n("d81d"),n("2532"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("5530"));n("96cf");var o=i(n("1da1")),r=i(n("1f88")),s=function(){var t=(0,o.default)(regeneratorRuntime.mark((function t(e,n){var i,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=function(){plus.share.sendWithSystem({type:"text",content:e.content.title+e.content.summary||"",href:e.content.href},(function(t){console.log("分享成功"),n(t)}),(function(t){console.log("分享失败："+JSON.stringify(t)),n(t)}))},o=function(){uni.setClipboardData({data:e.content.href,success:function(){console.log("success"),uni.hideToast(),uni.showToast({title:"复制成功",icon:"none"})},fail:function(t){uni.showModal({content:JSON.stringify(t),showCancel:!1})}})},i=[],plus.share.getServices((function(t){t=t.filter((function(t){return t.nativeClient}));var c=t.map((function(t){return t.id}));e.menus.forEach((function(t){(c.includes(t.share.provider)||"string"==typeof t.share)&&i.push(t)})),r.default.show({list:i,cancelText:e.cancelText},(function(t){if("string"==typeof i[t]["share"])switch(i[t]["share"]){case"copyurl":o();break;case"shareSystem":s();break;default:console.error("未知事件名称:"+i[t]["share"]);break}else console.log(123456,(0,a.default)((0,a.default)({},e.content),i[t].share)),uni.share((0,a.default)((0,a.default)((0,a.default)({},e.content),i[t].share),{},{success:function(t){console.log("success:"+JSON.stringify(t))},fail:function(t){console.log("fail:"+JSON.stringify(t)),uni.showModal({content:JSON.stringify(t),showCancel:!1,confirmText:"知道了"})},complete:function(t){r.default.hide(),n(t)}}))}))}),(function(t){uni.showModal({title:"获取服务供应商失败："+JSON.stringify(t),showCancel:!1,confirmText:"知道了"}),console.error("获取服务供应商失败："+JSON.stringify(t))}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();e.default=s},3825:function(t,e,n){"use strict";n.r(e);var i=n("e6af"),a=n("b1da");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("b081");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"ca5ebe6e",null,!1,i["a"],r);e["default"]=c.exports},"3ddd":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={uImage:n("0fbd").default,uSearch:n("d0c0").default,uButton:n("7d7b").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"pl-2 pr-2 d-flex justify-between align-center"},[n("v-uni-view",{},[n("u-image",{attrs:{src:"/static/h5/static/logo.png",height:"80upx",mode:"heightFix"}})],1),n("v-uni-view",{},[n("u-search",{attrs:{placeholder:"搜索"},on:{search:function(e){arguments[0]=e=t.$handleEvent(e),t.handleSearch.apply(void 0,arguments)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),n("v-uni-view",{},[n("u-button",{staticClass:"color-primary",attrs:{shape:"square",ripple:!0,"ripple-bg-color":"#991013",size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleToPublic.apply(void 0,arguments)}}},[t._v("发布")])],1)],1)},o=[]},"40db":function(t,e,n){var i=n("9bd4");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("e4627de0",i,!0,{sourceMap:!1,shadowMode:!1})},"4a2b":function(t,e,n){"use strict";n.r(e);var i=n("6233"),a=n("0718");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("8add");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"252a70be",null,!1,i["a"],r);e["default"]=c.exports},6233:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={TopBar:n("7822").default,Post:n("3825").default,uLoading:n("b603").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"forumIndex d-flex flex-column",on:{touchmove:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),function(){}.apply(void 0,arguments)},touch:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),function(){}.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"header",staticStyle:{"background-color":"#fff"}},[n("v-uni-view",[n("TopBar")],1),n("v-uni-view",{staticClass:"w-full pt-2 pb-2 mt-3 cate"},[n("v-uni-scroll-view",{staticClass:"w-full scroll-container",attrs:{"scroll-x":"true","scroll-with-animation":"true"}},[n("v-uni-view",{staticClass:" d-flex w-full justify-between pl-2 pr-2"},t._l(t.forumCate,(function(e){return n("v-uni-view",{class:["item",{active:t.curCate.id==e.id}],on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.handleSelectCate(e)}}},[t._v(t._s(e.value))])})),1)],1)],1)],1),n("v-uni-view",{staticClass:"comments flex-1",on:{touchmove:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),function(){}.apply(void 0,arguments)},touch:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),function(){}.apply(void 0,arguments)}}},[n("v-uni-view",{},[t._l(t.posts,(function(t){return n("Post",{attrs:{posts:t}})})),n("v-uni-view",{staticClass:"w-full text-center"},[n("u-loading",{attrs:{show:t.showLoading}})],1),t.showLoadEnd?n("v-uni-view",{staticClass:"w-full text-center"},[n("v-uni-text",[t._v("暂无数据")])],1):t._e()],2)],1)],1)},o=[]},"694b":function(t,e,n){var i=n("6982");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("c606adcc",i,!0,{sourceMap:!1,shadowMode:!1})},6982:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.u-loading-circle[data-v-636b7930]{display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex;vertical-align:middle;width:%?28?%;height:%?28?%;background:0 0;border-radius:50%;border:2px solid;border-color:#e5e5e5 #e5e5e5 #e5e5e5 #8f8d8e;-webkit-animation:u-circle-data-v-636b7930 1s linear infinite;animation:u-circle-data-v-636b7930 1s linear infinite}.u-loading-flower[data-v-636b7930]{width:20px;height:20px;display:inline-block;vertical-align:middle;-webkit-animation:a 1s steps(12) infinite;animation:u-flower-data-v-636b7930 1s steps(12) infinite;background:transparent url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgxMDB2MTAwSDB6Ii8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTlFOUU5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTMwKSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iIzk4OTY5NyIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgzMCAxMDUuOTggNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjOUI5OTlBIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDYwIDc1Ljk4IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0EzQTFBMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSg5MCA2NSA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNBQkE5QUEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoMTIwIDU4LjY2IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0IyQjJCMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgxNTAgNTQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjQkFCOEI5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDE4MCA1MCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDMkMwQzEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTE1MCA0NS45OCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDQkNCQ0IiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTEyMCA0MS4zNCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNEMkQyRDIiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwIDM1IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0RBREFEQSIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgtNjAgMjQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTJFMkUyIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKC0zMCAtNS45OCA2NSkiLz48L3N2Zz4=) no-repeat;background-size:100%}@-webkit-keyframes u-flower-data-v-636b7930{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes u-flower-data-v-636b7930{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes u-circle-data-v-636b7930{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}',""]),t.exports=e},7822:function(t,e,n){"use strict";n.r(e);var i=n("3ddd"),a=n("8677");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"ba62bf16",null,!1,i["a"],r);e["default"]=c.exports},7969:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("v-uni-view",{staticClass:"u-loading",class:"circle"==t.mode?"u-loading-circle":"u-loading-flower",style:[t.cricleStyle]}):t._e()},o=[]},8058:function(t,e,n){"use strict";n.r(e);var i=n("9095"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},8421:function(t,e,n){var i=n("c661");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("5fa698b5",i,!0,{sourceMap:!1,shadowMode:!1})},8677:function(t,e,n){"use strict";n.r(e);var i=n("ad7b"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"8add":function(t,e,n){"use strict";var i=n("40db"),a=n.n(i);a.a},9095:function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"u-loading",props:{mode:{type:String,default:"circle"},color:{type:String,default:"#c7c7c7"},size:{type:[String,Number],default:"34"},show:{type:Boolean,default:!0}},computed:{cricleStyle:function(){var t={};return t.width=this.size+"rpx",t.height=this.size+"rpx","circle"==this.mode&&(t.borderColor="#e4e4e4 #e4e4e4 #e4e4e4 ".concat(this.color?this.color:"#c7c7c7")),t}}};e.default=i},"9bd4":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.forumIndex[data-v-252a70be]{padding-top:0;overflow:auto;box-sizing:border-box;position:relative;padding-bottom:%?100?%}.forumIndex .cate[data-v-252a70be]{box-shadow:0 %?6?% %?6?% #ccc}.forumIndex .header[data-v-252a70be]{padding-top:0;position:fixed;width:100%;top:0;z-index:10002}.forumIndex .scroll-container[data-v-252a70be]{width:100%;height:%?60?%;white-space:nowrap;position:relative}.forumIndex .scroll-container .item[data-v-252a70be]{font-size:%?34?%;display:inline-block;color:#9a9a9a;height:%?40?%;font-weight:600}.forumIndex .scroll-container .active[data-v-252a70be]{color:#d81e06}.forumIndex .comments[data-v-252a70be]{background:#f5f5f5;margin-top:%?160?%}',""]),t.exports=e},ad7b:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"TopBar",data:function(){return{keyword:""}},methods:{handleSearch:function(t){console.log(t)},handleToPublic:function(){console.log(111),uni.navigateTo({url:"/pages/forum/publicPost/publicPost",animationType:"slide-in-right"})}}};e.default=i},b081:function(t,e,n){"use strict";var i=n("8421"),a=n.n(i);a.a},b1da:function(t,e,n){"use strict";n.r(e);var i=n("b3bf"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},b3bf:function(t,e,n){"use strict";var i=n("4ea4");n("fb6a"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var a=i(n("1da1")),o=i(n("5530")),r=i(n("71f8")),s=n("2f62"),c=i(n("25a3")),u={name:"Post",props:{posts:{type:Object,required:!0}},data:function(){return{currentImgIndex:0}},mounted:function(){},computed:{surplusImg:function(){return this.posts.data.media.length},imgs:function(){return this.posts.data.media.slice(0,3)||[]},postData:function(){return this.posts.data||{}},lighted:{get:function(){return this.posts.lighted||!1},set:function(t){this.posts.lighted=t}}},methods:(0,o.default)((0,o.default)({},(0,s.mapMutations)(["setCurrentPost"])),{},{handlePreviewImg:function(t){var e=this;uni.previewImage({urls:this.posts.data.media,current:t,indicator:"number",loop:!0,longPressActions:{itemList:["保存图片"],success:function(t){console.log(t),uni.saveImageToPhotosAlbum({filePath:e.imgs[t.index],success:function(t){uni.showToast({title:"成功保存至相册",icon:"none"})}})},fail:function(t){console.log(t.errMsg)}}})},stop:function(){},handleTo:function(){uni.navigateTo({url:"/pages/forum/postDetail/postDetail?postId="+this.posts.data._id})},handleLight:function(){var t=this;return(0,a.default)(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$user){e.next=4;break}uni.showToast({title:"请先登录",icon:"none"}),e.next=16;break;case 4:if(t.lighted){e.next=11;break}return e.next=7,t.$http({url:"/post/light",data:{postId:t.postData._id,userId:t.$user._id}});case 7:n=e.sent,(0,r.default)(n,(function(){t.lighted=!0,t.postData.light+=1})),e.next=16;break;case 11:if(!t.lighted){e.next=16;break}return e.next=14,t.$http({url:"/post/unLight",data:{postId:t.postData._id,userId:t.$user._id}});case 14:i=e.sent,(0,r.default)(i,(function(){t.lighted=!1,t.postData.light-=1}));case 16:case"end":return e.stop()}}),e)})))()},handleShare:function(){(0,c.default)({content:{type:0,href:"http://localhost:8080/#/",title:"标题",summary:"描述",imageUrl:"/static/h5/static/logo.png"},menus:[{img:"/static/h5/static/wechat.png",text:"微信好友",share:{provider:"weixin",scene:"WXSceneSession"}}],cancelText:"取消分享"})}})};e.default=u},b603:function(t,e,n){"use strict";n.r(e);var i=n("7969"),a=n("8058");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("18b6");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"636b7930",null,!1,i["a"],r);e["default"]=c.exports},c661:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.post[data-v-ca5ebe6e]{background-color:#fff}.post .avatar[data-v-ca5ebe6e]{width:10%;border-radius:50%}.post .nickname[data-v-ca5ebe6e]{color:#7a7d82}.post .titleName[data-v-ca5ebe6e]{letter-spacing:%?2?%;font-size:%?32?%}.post .imgs[data-v-ca5ebe6e]{position:relative}.post .imgs[data-v-ca5ebe6e] .u-image__image{border-radius:%?12?%!important}.post .imgs .imgMask[data-v-ca5ebe6e]{background-color:rgba(50,50,45,.52);position:absolute;right:0;width:32%;height:%?200?%;border-radius:%?12?%!important;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.post .imgs .imgMask .num[data-v-ca5ebe6e]{color:#fff;font-size:%?38?%}.post .comment[data-v-ca5ebe6e]{background:#f8f8fc;border-radius:%?10?%}.post .hotComment .nickname[data-v-ca5ebe6e]{color:#939393}.post .util[data-v-ca5ebe6e]{color:#939393}',""]),t.exports=e},e6af:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={uImage:n("0fbd").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"p-3 post mb-2",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleTo()}}},[n("v-uni-view",{staticClass:"d-flex align-center"},[n("v-uni-view",{staticClass:" mr-3 avatar"},[n("u-image",{attrs:{src:"https://img2.baidu.com/it/u=3960470193,627689163&fm=26&fmt=auto&gp=0.jpg",width:"88upx",height:"88upx",shape:"circle"}})],1),n("v-uni-view",{},[n("v-uni-text",{staticClass:"nickname"},[t._v(t._s(t.postData.userName))])],1)],1),n("v-uni-view",{staticClass:"mt-2"},[n("v-uni-text",{staticClass:"titleName"},[t._v(t._s(t.postData.title))])],1),t.imgs.length>0?n("v-uni-view",{class:["imgs","mt-2","d-flex",{"justify-between":t.surplusImg>=3}]},[t._l(t.imgs,(function(e,i){return n("u-image",{class:{"ml-2":i>=1},attrs:{src:e,width:"32%",height:"200upx"},nativeOn:{click:function(e){return e.stopPropagation(),t.handlePreviewImg(i)}}})})),t.surplusImg>=3?n("v-uni-view",{staticClass:"imgMask",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.handlePreviewImg(2)}}},[n("v-uni-text",{staticClass:"num"},[t._v("+"+t._s(t.surplusImg-3))])],1):t._e()],2):t._e(),n("v-uni-view",{staticClass:"comment w-full p-2 mt-2"},[n("v-uni-view",{staticClass:"d-flex justify-between"},[n("u-image",{attrs:{src:"/static/h5/static/hotComment.png",width:"60upx",mode:"widthFix"}}),n("v-uni-view",{staticClass:"d-flex align-center"},[n("v-uni-text",{staticClass:"mr-1"},[t._v("98")]),n("u-image",{attrs:{src:"/static/h5/static/noLight.png",height:"50upx",mode:"heightFix"}})],1)],1),n("v-uni-view",{staticClass:"hotComment"},[n("v-uni-text",{staticClass:"nickname"},[t._v("斯蒂芬库里")]),t._v(":"),n("v-uni-text",{staticClass:"commentContent"},[t._v("斯蒂芬库里斯蒂芬库里斯蒂芬库里斯蒂芬库里斯蒂芬库里")])],1)],1),n("v-uni-view",{staticClass:" util d-flex justify-around mt-2",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),arguments[0]=e=t.$handleEvent(e),t.stop.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"d-flex align-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleShare.apply(void 0,arguments)}}},[n("u-image",{staticClass:"mr-1",attrs:{src:"/static/h5/static/share.png",width:"40upx",mode:"widthFix"}}),n("v-uni-text",[t._v("4")])],1),n("v-uni-view",{staticClass:"d-flex align-center"},[n("u-image",{staticClass:"mr-1",attrs:{src:"/static/h5/static/comment.png",width:"40upx",mode:"widthFix"}}),n("v-uni-text",[t._v(t._s(t.postData.commentNum))])],1),n("v-uni-view",{staticClass:"d-flex align-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleLight.apply(void 0,arguments)}}},[t.lighted?n("u-image",{staticClass:"mr-1",attrs:{src:"/static/h5/static/praised.png",width:"40upx",mode:"widthFix"}}):n("u-image",{staticClass:"mr-1",attrs:{src:"/static/h5/static/praise.png",width:"40upx",mode:"widthFix"}}),n("v-uni-text",[t._v(t._s(t.postData.light))])],1)],1)],1)},o=[]},fca0:function(t,e,n){"use strict";var i=n("4ea4");n("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var a=i(n("1da1")),o=i(n("5530")),r=i(n("7822")),s=n("153b"),c=i(n("3825")),u=i(n("71f8")),l=n("2f62"),d={components:{TopBar:r.default,Post:c.default},mounted:function(){this.getData()},data:function(){return{forumCate:s.forumCate,curCate:{id:1,cateId:1,value:"校园",label:"校园"},posts:[],triggered:!1,pageIndex:0,pageSize:5,showLoading:!0,showLoadEnd:!1}},computed:(0,o.default)({},(0,l.mapGetters)(["userID"])),onPageScroll:function(t){},onPullDownRefresh:function(){this.getData((function(){uni.showToast({title:"刷新成功",icon:"none"}),uni.stopPullDownRefresh()}))},onReachBottom:function(){this.pageIndex++,this.getData()},methods:{handleSelectCate:function(t){this.curCate=t,this.pageIndex=0,this.getData(null,"isDif")},getData:function(t,e){var n=this;return(0,a.default)(regeneratorRuntime.mark((function i(){var a,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!n.showLoadEnd){i.next=2;break}return i.abrupt("return");case 2:return n.showLoading=!0,a={userId:n.userID,cateId:n.curCate.cateId,pageIndex:n.pageIndex,pageSize:n.pageSize},i.next=6,n.$http({url:"/post/getPost",method:"get",data:a});case 6:o=i.sent,(0,u.default)(o,(function(i){n.showLoading=!1,i&&0!=i.length?(n.posts="isDif"==e?i:n.posts.concat(i||[]),t&&t()):n.showLoadEnd=!0}));case 8:case"end":return i.stop()}}),i)})))()},stopMove:function(){},handleRefresh:function(){var t=this;setTimeout((function(){t.triggered=!1}),2e3)},loadMore:function(){}}};e.default=d}}]);