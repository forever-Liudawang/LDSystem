(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d5df517e"],{"04ad":function(t,a,i){"use strict";i.r(a);var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"artist"},[i("div",[i("div",{staticClass:"filter"},[i("div",{staticClass:"filter-item"},t._l(t.initial,(function(a,e){return i("span",{key:e,class:e===t.initialIndex?"active":"",on:{click:function(a){return t.selectType("initial",e)}}},[t._v(t._s(a.label))])})),0),i("div",{staticClass:"filter-item"},t._l(t.area,(function(a,e){return i("span",{key:e,class:e===t.areaIndex?"active":"",on:{click:function(a){return t.selectType("area",e)}}},[t._v(t._s(a.label))])})),0),i("div",{staticClass:"filter-item"},t._l(t.type,(function(a,e){return i("span",{key:e,class:e===t.typeIndex?"active":"",on:{click:function(a){return t.selectType("type",e)}}},[t._v(t._s(a.label))])})),0)]),i("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"list-container"},t._l(t.list,(function(a){return i("router-link",{key:a.id,staticClass:"item",attrs:{to:{path:"/singer",query:{id:a.id}}}},[i("div",{staticClass:"faceImg"},[i("el-image",{attrs:{src:a.picUrl+"?param=120y120"}},[i("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[i("i",{staticClass:"iconfont icon-placeholder"})])])],1),i("div",{staticClass:"info"},[i("div",{staticClass:"name"},[t._v(t._s(a.name))]),i("div",{staticClass:"albumSize"},[t._v("专辑："+t._s(a.albumSize))])])])})),1),t.isLoading?[i("Loading")]:t._e()],2)])},s=[],n=i("2909"),l=i("1da1"),r=(i("96cf"),i("99af"),i("bf93")),c={name:"artist",components:{Loading:r["a"]},data:function(){return{type:[{label:"全部",val:-1},{label:"男歌手",val:1},{label:"女歌手",val:2},{label:"乐队",val:3}],area:[{label:"全部",val:-1},{label:"华语",val:7},{label:"欧美",val:96},{label:"日本",val:8},{label:"韩国",val:16},{label:"其他",val:0}],initial:[{label:"热门",val:-1},{label:"#",val:0}],typeIndex:0,areaIndex:0,initialIndex:0,params:{area:"",type:"",initial:"",limit:30,offset:0},list:[],isLoading:!0,isLoadMv:!0}},computed:{},mounted:function(){this.params.area=this.area[this.areaIndex].val,this.params.type=this.type[this.typeIndex].val,this.params.initial=this.initial[this.initialIndex].val,this.renderInitial()},methods:{renderInitial:function(){for(var t=[],a=0;a<26;a++)t.push({label:String.fromCharCode(65+a),val:String.fromCharCode(97+a)});this.initial=[this.initial[0]].concat(t,[this.initial[1]])},selectType:function(t,a){this[t+"Index"]=a,this.list=[],this.params.offset=0,this.params[t]=this[t][a].val},getArtist:function(t){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var e,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,a.$http.artistList(t);case 2:if(e=i.sent,s=e.data,200===s.code){i.next=6;break}return i.abrupt("return",a.$msg.error("数据请求失败"));case 6:a.list=0!==a.params.offset?[].concat(Object(n["a"])(a.list),Object(n["a"])(s.artists)):s.artists,a.isLoadMv=!s.more,a.isLoading=s.more;case 9:case"end":return i.stop()}}),i)})))()},loadMore:function(){this.isLoadMv=!0,this.params.offset=this.list.length}},watch:{params:{handler:function(t){this.getArtist(t)},deep:!0}}},o=c,d=(i("3298"),i("2877")),u=Object(d["a"])(o,e,s,!1,null,"74dc5f30",null);a["default"]=u.exports},3298:function(t,a,i){"use strict";i("8ff5")},"8ff5":function(t,a,i){}}]);
//# sourceMappingURL=chunk-d5df517e.f720bbec.js.map