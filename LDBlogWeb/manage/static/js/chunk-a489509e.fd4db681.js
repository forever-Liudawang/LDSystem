(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a489509e"],{"115d":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"demoBox"},[n("div",[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[n("el-table-column",{attrs:{prop:"title",label:"demo标题"}}),n("el-table-column",{attrs:{prop:"link",label:"链接地址"}}),n("el-table-column",{attrs:{prop:"desc",label:"demo描述"}}),n("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{role:"admin",type:"btn"},expression:"{role:'admin',type:'btn'}"}],attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")]),n("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{role:"admin",type:"btn"},expression:"{role:'admin',type:'btn'}"}],attrs:{size:"mini",type:"primary"},on:{click:function(n){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")])]}}])})],1)],1),n("div",{staticClass:"pagation"},[n("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":e.pagation.pageSize,total:e.pagation.total},on:{"current-change":e.handlePageChange}})],1),n("div",[n("el-form",{ref:"demoModel",attrs:{model:e.demoModel,rules:e.rules}},[n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"demo标题",prop:"title"}},[n("el-input",{attrs:{clearable:""},model:{value:e.demoModel.title,callback:function(t){e.$set(e.demoModel,"title",t)},expression:"demoModel.title"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"demo地址",prop:"link"}},[n("el-input",{attrs:{clearable:"",rows:2},model:{value:e.demoModel.link,callback:function(t){e.$set(e.demoModel,"link",t)},expression:"demoModel.link"}})],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"demo简介",prop:"desc"}},[n("el-input",{attrs:{clearable:"",rows:2,type:"textarea"},model:{value:e.demoModel.desc,callback:function(t){e.$set(e.demoModel,"desc",t)},expression:"demoModel.desc"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{role:"admin",type:"btn"},expression:"{role:'admin',type:'btn'}"}],attrs:{type:"primary"},on:{click:function(t){return e.submitForm("demoModel")}}},[e._v("提交")]),n("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{role:"admin",type:"btn"},expression:"{role:'admin',type:'btn'}"}],attrs:{type:"primary"},on:{click:function(t){return e.resetForm("demoModel")}}},[e._v("重置")])],1)],1)],1)],1)])},a=[],i=n("15fd"),o=n("1da1"),s=(n("96cf"),n("6e2e"),["_id"]),l={data:function(){return{demoModel:{title:"",link:"",desc:""},rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],link:[{required:!0,message:"请输入demo地址",trigger:"blur"}],desc:[{required:!0,message:"请填写demo简介",trigger:"blur"}]},tableData:[],pagation:{curPage:0,pageSize:5,total:0},imageUrl:"",uploadImgUrl:"http://andy.lmytest.top/uploadImg",isEdit:!0}},mounted:function(){this.handleGetList()},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(){var n=Object(o["a"])(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!r){n.next=4;break}t.$confirm("是否提交?","提示",{callback:function(){var n=Object(o["a"])(regeneratorRuntime.mark((function n(r){var a,o,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("confirm"!==r){n.next=14;break}if(a=null,t.isEdit){n.next=10;break}return o=t.demoModel,o._id,l=Object(i["a"])(o,s),n.next=6,t.$http({url:"/onlineDemo/add",data:l,method:"post"});case 6:a=n.sent,a&&a.success&&(t.$message.success(t.isEdit?"编辑成功":"创建成功"),t.$refs[e].resetFields(),t.isEdit=!1,t.handleGetList()),n.next=14;break;case 10:return n.next=12,t.$http({url:"/onlineDemo/update",data:t.demoModel,method:"post"});case 12:a=n.sent,a&&a.success&&(t.$message.success(t.isEdit?"编辑成功":"创建成功"),t.$refs[e].resetFields(),t.isEdit=!1,t.handleGetList());case 14:case"end":return n.stop()}}),n)})));function r(e){return n.apply(this,arguments)}return r}()}),n.next=5;break;case 4:return n.abrupt("return",!1);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},resetForm:function(e){var t=this;this.$confirm("是否重置demo信息?","提示",{callback:function(){var n=Object(o["a"])(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:"confirm"===r&&(t.$refs[e].resetFields(),t.demoModel={});case 1:case"end":return n.stop()}}),n)})));function r(e){return n.apply(this,arguments)}return r}()})},handleGetList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http({url:"/onlineDemo/getList",method:"get",params:{pageSize:e.pagation.pageSize,pageIndex:e.pagation.curPage}});case 2:n=t.sent,n&&n.success&&(e.tableData=n.data,e.pagation.total=n.extend.total);case 4:case"end":return t.stop()}}),t)})))()},handleDelete:function(e,t){var n=this;this.$confirm("是否删除此demo项?","提示",{callback:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("confirm"!==r){e.next=5;break}return e.next=3,n.$http({url:"/onlineDemo/delete",data:{demoId:t["_id"]},method:"post"});case 3:a=e.sent,a&&a.success&&(n.$message.success("删除成功"),n.handleGetList());case 5:case"end":return e.stop()}}),e)})));function r(t){return e.apply(this,arguments)}return r}()})},handleEdit:function(e,t){this.demoModel=t,this.isEdit=!0},handlePageChange:function(e){this.pagation.curPage=e-1,this.handleGetList()}}},c=l,u=(n("b84f"),n("b3f3"),n("42f4"),n("2877")),d=Object(u["a"])(c,r,a,!1,null,"ebd215f2",null);t["default"]=d.exports},"15fd":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("a4d3"),n("b64b");function r(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function a(e,t){if(null==e)return{};var n,a,i=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},2433:function(e,t,n){},"42f4":function(e,t,n){"use strict";n("ab0b")},"5ba1":function(e,t,n){},"6e2e":function(e,t,n){},ab0b:function(e,t,n){},b3f3:function(e,t,n){"use strict";n("5ba1")},b84f:function(e,t,n){"use strict";n("2433")}}]);