var b=Object.defineProperty;var F=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var k=(s,e,a)=>e in s?b(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a,A=(s,e)=>{for(var a in e||(e={}))D.call(e,a)&&k(s,a,e[a]);if(F)for(var a of F(e))V.call(e,a)&&k(s,a,e[a]);return s};import{d as M,a as U,r,Z as P,W as R,o as $,m as W,b as T,s as m,w as _,C as Z,e as o,h as c,t as w,j as q,g as E,n as h,f as L,k as N,F as j,V as C}from"./vendor.b0812fec.js";import{b as G,c as H}from"./index.7042e726.js";import{A as J}from"./Article.fdff852f.js";import{B as K}from"./BScroll.e191c147.js";import{_ as O}from"./index.75eea6b6.js";function z(s){switch(s){case"1":return"FrontEnd";case"2":return"BackEnd";case"3":return"Life"}}const Q={class:"articleCate"},X={class:"title"},Y={class:"tags"},ee=C("\u5168\u90E8"),ae={class:"main"},te=C("\u52A0\u8F7D\u4E2D..."),se=M({setup(s){let e=U();const a=r([]),x=r([]),i=r(!0),u=P({pageSize:10,pageIndex:0}),d=r(!1),n=r("");let I=r(z(e.params.cateId));const f=async()=>{const t=await G(A({articleCateId:e.params.cateId,tag:n.value},u));t&&t.success&&(!t.data||t.data.length==0?d.value=!0:a.value=[...a.value,...t.data],i.value=!1)},B=async()=>{const t=await H();if(t&&t.success){const v=(t.data||[]).filter(g=>g.articleCateId==e.params.cateId);x.value=v}};R(e,()=>{I.value=z(e.params.cateId)}),$(t=>{e=t,u.pageIndex=0,n.value="",a.value=[],d.value=!1,f(),B()}),W(()=>{f(),B()});const S=()=>{if(d.value){Z("\u522B\u62C9\u5566\uFF0C\u6CA1\u6709\u4E86\uFF01");return}u.pageIndex+=1,i.value=!0,f()},y=t=>{u.pageIndex=0,n.value=t.articleTagName||"",a.value=[],d.value=!1,f()};return(t,p)=>{const v=T("van-tag"),g=T("van-loading");return o(),m(K,{onPullingUp:S,refresh:i.value,refreshFlag:a.value.length},{default:_(()=>[c("div",Q,[c("div",X,w(q(I)),1),c("div",Y,[E(v,{type:"primary",color:"#fff",class:h(n.value==""?"selected":""),onClick:p[0]||(p[0]=l=>y("")),size:"large"},{default:_(()=>[ee]),_:1},8,["class"]),(o(!0),L(j,null,N(x.value,l=>(o(),m(v,{type:"primary",class:h(n.value==l.articleTagName?"selected":""),onClick:le=>y(l),color:"#fff",size:"large"},{default:_(()=>[C(w(l.articleTagName),1)]),_:2},1032,["class","onClick"]))),256))]),c("div",ae,[(o(!0),L(j,null,N(a.value,l=>(o(),m(J,{articleModel:l},null,8,["articleModel"]))),256))]),c("div",{class:h(["loading",i.value?"show":"hide"])},[E(g,{size:"24px"},{default:_(()=>[te]),_:1})],2)])]),_:1},8,["refresh","refreshFlag"])}}});var de=O(se,[["__scopeId","data-v-d867ae2e"]]);export{de as default};
