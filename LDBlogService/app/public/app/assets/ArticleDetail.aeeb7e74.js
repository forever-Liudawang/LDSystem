import{a as v}from"./index.42bb92cb.js";import{d as p,a as g,r as i,Q as x,l as y,W as m,q as D,w as I,c as b,g as a,t as B,k as w,h as k}from"./vendor.82d14f1c.js";import{B as j}from"./BScroll.97283414.js";import{_ as M}from"./index.70d1f7da.js";const A={class:"articleDetail"},H={style:{"text-align":"center"}},R=["innerHTML"],S=["src"],T=p({setup(C){let c=g();const s=i(),o=i("/comment.html");o.value="/static/mobile/comment.html";const e=i(),_=async()=>{const t=await v({articleId:c.params.articleId});t&&t.success&&(s.value=t.data?t.data[0]:{})},r=()=>{e.value.onload=function(){e.value.height=e.value.contentDocument.body&&e.value.contentDocument.body.scrollHeight+100}};return x(()=>c.params.articleId,()=>{r()}),y(()=>{_(),r()}),(t,F)=>{const u=m("highlight"),h=m("click");return b(),D(j,{refreshFlag:e.value?e.value.height:6},{default:I(()=>{var l,n;return[a("div",A,[a("h1",H,B((l=s.value)==null?void 0:l.articleTitle),1),w(a("div",{class:"content",innerHTML:(n=s.value)==null?void 0:n.content},null,8,R),[[u],[h]]),a("iframe",{ref:(d,f)=>{f.commentRef=d,e.value=d},style:{width:"100%","min-height":"300px"},src:`${o.value}?articleId=${k(c).params.articleId}`,frameborder:"0"},null,8,S)])]}),_:1},8,["refreshFlag"])}}});var Q=M(T,[["__scopeId","data-v-9270f764"]]);export{Q as default};
